<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    
	<h:head>
		<title>Register - Java Beans</title>
	    <h:outputStylesheet library="css" name="bootstrap.min.css" />
	    <h:outputStylesheet library="css" name="jquery-ui.css" />
	    <h:outputStylesheet library="css" name="styles.css" />
	    
	    <style>
	    	.error {
	    		color: red;
	    	}
		</style>
	</h:head>
	<h:body>
	
		<!--Navigation Bar-->
		<ui:include src="/pages/templates/navbar-guest.xhtml" />
		<br/>
		
		<!-- Container -->
		<div class="container">
		
			<div class="text-center">
				<h1>Welcome to Java Beans!</h1>
				<p>
					Already have an account? Login <a href="#">here.</a>
				</p>
			</div>			
			<br/>
		
			<h:form id="register">
			
				<h5>Login Credentials</h5>
				<hr/>
				
				<!-- Content Row -->
				<div class="row">
					
					<!-- Email Label and Input -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="email">Email</h:outputLabel>
						<h:inputText styleClass="form-control" id="email" value="#{users.email}" 
							required="true" requiredMessage="Email is required" validatorMessage="Invalid email format. (E.g. john_doe@gmail.com)" >
							<f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]"/>
						</h:inputText>
						<h:message for="email" styleClass="error"/>
					</div>
					
					<!-- Password Label and Input --> 
					<div class="col-4">		
						<h:outputLabel styleClass="form-label" for="password">Password</h:outputLabel>
						<h:inputSecret styleClass="form-control" id="password" value="#{users.password}"
							required="true" requiredMessage="Password is required" validatorMessage="Password length minimum is 6" >
							<f:validateLength minimum="6" />
							<f:ajax event="keyup" render="checkPass"/>
						</h:inputSecret>
						<h:message for="password" styleClass="error" />
						<br/>
						<h:outputLabel id="checkPass" value="#{users.passwordResult}" styleClass="error" />
					</div>
					
					<!-- Confirm Password Label and Input --> 
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="confirmPassword">Confirm Password</h:outputLabel>
						<h:inputSecret styleClass="form-control" id="confirmPassword" value="#{users.confirmPassword}" 
							required="true" requiredMessage="Confirm Password is required">
							<f:ajax event="keyup" render="outtxt"/>
						</h:inputSecret>
						<h:message for="confirmPassword" styleClass="error"/>
						<br/>
						<h:outputLabel id="outtxt" value="#{users.confirmPasswordResult}" styleClass="error" />
					</div>
				
				<!-- End of Content Row -->
				</div>
				<br/>
				
				<h5>Personal Information</h5>
				<hr/>
				
				<div class="row">
					
					<!-- First Name Label and Input -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="firstName">First Name</h:outputLabel>
						<h:inputText id="firstName" value="#{users.first_name}" styleClass="form-control"
							required="true" requiredMessage="First name is required"/>
						<h:message for="firstName" styleClass="error"/>
					</div>
					
					<!-- Middle Name Label and Input -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="middleName">Middle Name</h:outputLabel>
						<h:inputText id="middleName" value="#{users.middle_name}" styleClass="form-control"
							required="true" requiredMessage="Middle name is required"/>
						<h:message for="middleName" styleClass="error"/>
					</div>
					
					<!-- Last Name Label and Input -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="lastName">Last Name</h:outputLabel>
						<h:inputText id="lastName" value="#{users.last_name}" styleClass="form-control"
							required="true" requiredMessage="Last name is required"/>
						<h:message for="lastName" styleClass="error"/>	
					</div>
				
				<!-- End of Content Row -->
				</div>
				<br/>
				
				<!-- Content Row -->
				<div class="row">
				
					<!-- Telephone No. Label and Input -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="teleNo">Telephone No.</h:outputLabel>
						<h:inputText id="teleNo" value="#{users.telephone_no}" styleClass="form-control"
							required="true" requiredMessage="Telephone No. is required" validatorMessage="E.g. XXXX-XXXX">
							<f:validateRegex pattern="\d{4}-\d{4}" />
						</h:inputText>
						<h:message for="teleNo" styleClass="error" />
					</div>
					
					<!-- Mobile No. Label and Input -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="mobileNo">Mobile No.</h:outputLabel>
						<h:inputText id="mobileNo" value="#{users.mobile_no}" styleClass="form-control"
							required="true" requiredMessage="Mobile No. is required" validatorMessage="E.g. +63-9XX-XXXXXXX" >
							<f:validateRegex pattern="\+\d{2}-\d{3}-\d{7}"/>
						</h:inputText>
						<h:message for="mobileNo" styleClass="error"/>
					</div>
					
					<!-- DOB Label and Input -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="dob">Date of Birth</h:outputLabel>
						<h:inputText id="dob" value="#{users.DOB}" styleClass="form-control datepicker"
							required="true" requiredMessage="Date of Birth is required">
							<f:convertDateTime type="date" pattern="dd/MM/yy"/>
						</h:inputText>
						<h:message for="dob" styleClass="error"/>	
					</div>
				
				<!-- End of Content Row -->
				</div>
				<br/>
				
				<!-- Content Row -->
				<div class="row">
					
					<!-- Gender Label and Radio Buttons -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="gender">Gender</h:outputLabel>
						<h:selectOneRadio id="gender" value="#{users.gender}" required="true" requiredMessage="Gender is required">
								<f:selectItems value="#{users.genderOptions}" />
						</h:selectOneRadio>
						<h:message for="gender" styleClass="error"/>
					</div>
					
					<div class="col-4"></div>
					<div class="col-4"></div>
					
				<!-- End of Content Row -->
				</div>
				<br/>
				
				<h5>Address</h5>
				<hr/>
				
				<!-- Content Row -->
				<div class="row">
					
					<!-- Bldg / House No. Label and Input -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="houseNo">Bldg / House No.</h:outputLabel>
						<h:inputText id="houseNo" value="#{users.bldg_no}" styleClass="form-control"/>
					</div>
					
					<!-- Street Label and Input -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="street">Street</h:outputLabel>
						<h:inputText id="street" value="#{users.street}" styleClass="form-control"
							required="true" requiredMessage="Street is required"/>
						<h:message for="street" styleClass="error"/>
					</div>
					
					<!-- City Label and Input -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="city">City</h:outputLabel>
						<h:inputText id="city" value="#{users.city}" styleClass="form-control"
							required="true" requiredMessage="Street is required"/>
						<h:message for="street" styleClass="error"/>
					</div>
				
				<!-- End of Content Row -->
				</div>
				<br/>
				
				<!-- Content Row -->
				<div class="row">
				
					<!-- Barangay Label and Input -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="barangay">Barangay</h:outputLabel>
						<h:inputText id="barangay" value="#{users.barangay}" styleClass="form-control"/>
					</div>
					
					<!-- Province Label and Input -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="province">Province</h:outputLabel>
						<h:inputText id="province" value="#{users.province}" styleClass="form-control"
							required="true" requiredMessage="Province is required"/>
						<h:message for="province" styleClass="error"/>
					</div>
					
					<!-- Zip Code Label and Input -->
					<div class="col-4">
						<h:outputLabel styleClass="form-label" for="zipCode">Zip Code</h:outputLabel>
						<h:inputText id="zipCode" value="#{users.zip_code}" styleClass="form-control"
							required="true" requiredMessage="Zip Code is required"/>
						<h:message for="zipCode" styleClass="error"/>
							
					</div>
					
				<!-- End of Content Row -->
				</div>
				<br/>
				
				<h:commandButton value="Register" id="submit" action="#{usersController.addUser(users)}"
					styleClass="btn btn-primary"/>
				
			</h:form>
			
		<!-- End of Container -->
		</div>
		<br/>
		
		<!-- Footer -->
		<ui:include src="/pages/templates/footer.xhtml"/>
				
		<h:outputScript library="js" name="jquery.min.js" />
		<h:outputScript library="js" name="bootstrap.bundle.min.js" />
		<h:outputScript library="js" name="bootstrap.min.js" />
		<h:outputScript library="js" name="jquery-ui.js" />
		<script>
		  $( function() {
		    $( ".datepicker" ).datepicker({
		    	dateFormat: 'dd/mm/yy',
		    	changeMonth: true,
		        changeYear: true,
		        yearRange: '1930:2020'
		    	});
		  } );
  		</script>
		
	</h:body>
    
</html>